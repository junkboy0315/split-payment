<app-header></app-header>

<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-8 col-sm-offset-2">
        <div class="text-center">

            <!-- 総支払額-->
            <div class="input-group total-payment">
              <span class="input-group-addon yen-mark">$</span>
              <input
                id="totalPay"
                [(ngModel)]="totalPay"
                (ngModelChange)="recalc()"
                type="number"
                placeholder="Enter the total payment here"
                class="form-control">
            </div>

            <div>
              <!-- Person Badge -->
              <span *ngIf="people.length !== 0">Person:<span class="badge">{{people.length}}</span></span>
              <!-- Add Person Button-->
              <button (click)="addPerson()" class="btn btn-default btn-primary add-person">Add Person</button>
            </div>

            <ul class="people-list">
              <li *ngFor="let person of people; let i = index" ng-animate="" class="list-group-item person-holder animated">
                <div class="row">

                  <!-- 左半分-->
                  <div class="col-xs-12 col-sm-6">
                    <div class="person-icon"><img src="assets/person.png">{{i+1}}</div>
                    <div class="input-group"><span class="input-group-addon yen-mark">$</span>
                      <input type="number" [(ngModel)]="person.payment" ng-change="main.fixMyPay(person); main.recalc()" placeholder="Payment" class="form-control">
                    </div>
                  </div>
                  <!-- 左半分-->

                  <!-- 右半分-->
                  <div class="col-xs-12 col-sm-6 person-edit-buttons">
                    <div role="group" class="btn-group pull-right">
                      <button type="button" tabindex="-1" (click)="increasePaymentOf(person)" class="btn btn-default">＋</button>
                      <button type="button" tabindex="-1" (click)="decreasePaymentOf(person)" class="btn btn-default">－</button>
                      <button type="button" tabindex="-1" [ngClass]="{'btn-danger': person.fixed == true}" (click)="toggleFixedPayment(person)" class="btn btn-default">Fix</button>
                      <button type="button" tabindex="-1" (click)="deletePerson(i)" class="btn btn-default"><span class="glyphicon glyphicon-remove"></span></button>
                    </div>
                  </div>
                  <!-- 右半分-->

                </div>
              </li>
            </ul>

        </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
